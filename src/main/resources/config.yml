# ========================================
# SimpleVoiceMechanics Configuration
# ========================================
#
# This plugin integrates SimpleVoiceChat with Minecraft mechanics.
# Mobs can hear players speaking and Sculk Sensors detect voice.
#

# ----------------------------------------
# Mob Hearing Mechanics
# ----------------------------------------
# Controls which mobs can hear and react to player voices
mob-hearing:
  # Master switch for all mob hearing
  enabled: true

  # Hostile mobs (Zombies, Skeletons, Creepers, etc.)
  # Will target speaking players
  hostile-mobs: true

  # Warden special behavior
  # Increases anger based on voice volume
  # Anger scales: Quiet (15-20), Normal (30-40), Loud (50-60)
  warden: true

# ----------------------------------------
# Sculk Sensor Detection
# ----------------------------------------
# Allows voice to trigger Sculk Sensors
sculk-hearing:
  # Enable/disable Sculk Sensor activation
  # Sculk Sensors are 20% more sensitive than mobs
  enabled: true

# ----------------------------------------
# Detection Settings
# ----------------------------------------
# Global settings for voice detection with realistic physics

# Maximum range for voice detection (in blocks)
# Mobs and Sculk Sensors within this range can detect voice
# Beyond this range, no detection occurs
# Default: 16.0 (standard Sculk Sensor range)
# Recommended: 12-20 blocks for balanced gameplay
hearing-range: 16.0

# Minimum voice volume to register ANY event (0.0 - 1.0)
# This is the initial threshold before distance calculations
# Lower values = more sensitive detection (catches whispers)
# Higher values = only loud voices detected
# Default: 0.1 (very sensitive, detects normal talking)
# Recommended: 0.05-0.2
volume-threshold: 0.1

# Advanced detection settings
detection:
  # Minimum effective volume for mob aggro after distance calculation (0.0 - 1.0)
  # After distance attenuation is applied, this is the final threshold
  # Lower = mobs react to quieter sounds from far away
  # Higher = only nearby loud sounds trigger mobs
  # Default: 0.2 (balanced)
  # Recommended: 0.15-0.3
  min-volume: 0.2

# ----------------------------------------
# Debug Options
# ----------------------------------------
# Enable detailed logging for testing and tuning
debug:
  # Log raw volume calculations to console
  # Shows: RMS, Normalized, Perceptual, Final volume
  volume-logging: false

  # Log mob detection attempts
  # Shows: Mob type, distance, effective volume
  detection-logging: false

  # Log distance attenuation details
  # Shows: Raw volume, distance, mob effective, sculk effective
  attenuation-logging: false

  # Log Warden anger increases
  # Shows: Anger amount, effective volume
  warden-logging: false

  # Log Sculk Sensor activations
  # Shows: Sensor type, location, trigger volume
  sculk-logging: false

# ----------------------------------------
# Volume Calculator Configuration
# ----------------------------------------
# These settings control the VolumeCalculator class behavior
# WARNING: Changing these requires recompiling the plugin
#
# Audio Analysis Constants:
# - AUDIO_CENTER: 128 (silence level for 8-bit audio)
# - PERCEPTUAL_EXPONENT: 0.6 (logarithmic hearing simulation)
# - COMPRESSION_FACTOR: 3.0 (dynamic range compression)
#
# Distance Attenuation Constants:
# - REFERENCE_DISTANCE: 4.0 blocks (near-field reference)
# - MOB_ATTENUATION: 0.5 (mob hearing sensitivity)
# - SCULK_ATTENUATION: 0.6 (sculk hearing sensitivity)
# - SCULK_SENSITIVITY: 1.2 (20% boost for sculk sensors)
#
# Detection Probability:
# - MOB_BASE_CHANCE: 0.5 (50% base detection)
# - SCULK_BASE_CHANCE: 0.7 (70% base detection)
# - MOB_VOLUME_EXPONENT: 0.7 (volume scaling for mobs)
# - SCULK_VOLUME_EXPONENT: 0.5 (volume scaling for sculk)
#
# Warden Anger:
# - BASE_ANGER: 15 (minimum anger increase)
# - MAX_ANGER: 60 (maximum anger increase)
# - ANGER_EXPONENT: 1.5 (non-linear scaling)

# ----------------------------------------
# Sound Propagation Physics
# ----------------------------------------
# The plugin uses realistic sound attenuation:
#
# - INVERSE SQUARE LAW: Sound intensity decreases with distanceÂ²
#   At 4 blocks: ~50% volume
#   At 8 blocks: ~25% volume
#   At 16 blocks: ~12% volume
#
# - EXPONENTIAL DECAY: Additional far-field attenuation
#   Simulates air absorption and obstacles
#
# - PERCEPTUAL SCALING: Matches human hearing (power 0.6)
#   Quiet sounds are more distinguishable
#   Loud sounds are compressed
#
# - PROBABILISTIC DETECTION: Not 100% guaranteed
#   Louder sounds = higher detection chance
#   Closer distance = higher detection chance

# ----------------------------------------
# Gameplay Effects by Distance & Volume
# ----------------------------------------
#
# VERY CLOSE (0-4 blocks):
# - Quiet talking (0.2): 80% detection chance
# - Normal talking (0.5): 95% detection chance
# - Loud talking (0.8): 100% detection chance
#
# CLOSE (4-8 blocks):
# - Quiet talking (0.2): 40% detection chance
# - Normal talking (0.5): 70% detection chance
# - Loud talking (0.8): 90% detection chance
#
# MEDIUM (8-12 blocks):
# - Quiet talking (0.2): 10% detection chance
# - Normal talking (0.5): 40% detection chance
# - Loud talking (0.8): 65% detection chance
#
# FAR (12-16 blocks):
# - Quiet talking (0.2): <5% detection chance
# - Normal talking (0.5): 15% detection chance
# - Loud talking (0.8): 35% detection chance

# ----------------------------------------
# Tuning Guide
# ----------------------------------------
# To adjust volume sensitivity:
# 1. Enable debug.volume-logging
# 2. Test with different speaking volumes
# 3. Adjust volume-threshold based on output
# 4. Test again and fine-tune
#
# To adjust distance attenuation:
# 1. Enable debug.attenuation-logging
# 2. Test at different distances (4, 8, 12, 16 blocks)
# 3. If mobs detect from too far: increase detection.min-volume
# 4. If mobs don't detect close by: decrease detection.min-volume
#
# To adjust mob behavior:
# 1. Enable debug.detection-logging
# 2. Observe detection chance percentages
# 3. Adjust hearing-range for overall range
# 4. Adjust detection.min-volume for sensitivity

# ----------------------------------------
# Performance Notes
# ----------------------------------------
# - Lower hearing-range = better performance
# - Higher volume-threshold = less frequent triggers
# - Recommended range: 8-20 blocks
# - Voice events fire in real-time
# - VolumeCalculator uses efficient calculations
# - Probabilistic detection reduces CPU load
# - Cooldown system prevents Sculk spam